<%= form_with(model: [:admin, category], builder: SpectreFormBuilder) do |form| %>
  <%= form.errors %>

  <%= form.collection_select :parent_id, CategoryNode.all, :id, ->(c) { c.path_names.map { |n| h(n) }.join(" ⤏ ") }, include_blank: "-" %>
  <%= form.text_field :name %>

  <% if category.errors[:slug].any? %>
    <%= form.text_field :slug %>
  <% end %>

  <%= form.actions do %>
    <%= form.submit %>
  <% end %>
<% end %>
